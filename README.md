# ğŸš€ Go-Monitor: ä¼ä¸šçº§è½»é‡é«˜å¹¶å‘æœåŠ¡ç›‘æ§ç³»ç»Ÿ (V15.1 æœ€ç»ˆç‰ˆ)

![Go Version](https://img.shields.io/badge/Go-1.20+-00ADD8?style=flat&logo=go)
![SQLite](https://img.shields.io/badge/SQLite-Integrated-003B57?style=flat&logo=sqlite)
![Architecture](https://img.shields.io/badge/Architecture-Standard_Go_Layout-brightgreen)
![Security](https://img.shields.io/badge/Security-AES--256--GCM-red)
![License](https://img.shields.io/badge/License-MIT-blue.svg)

> ä¸€ä¸ªæç®€ã€é«˜æ€§èƒ½ã€é›¶å¤–éƒ¨ä¾èµ–çš„åˆ†å¸ƒå¼æœåŠ¡å¯ç”¨æ€§ç›‘æ§ä¸å‘Šè­¦å¹³å°ã€‚
> å…·å¤‡ **å¹¶å‘æ¢æµ‹ã€çŠ¶æ€æœºå‘Šè­¦æŠ‘åˆ¶ã€å‡­è¯åŠ¨æ€åŠ å¯†ã€å•æ–‡ä»¶ç§’çº§éƒ¨ç½²** ç­‰ä¼ä¸šçº§æ ¸å¿ƒç‰¹æ€§ã€‚

## âœ¨ æ ¸å¿ƒåˆ›æ–°ç‚¹ä¸ç‰¹æ€§ (Core Features)

1. **âš¡ åŸºäº CSP æ¨¡å‹çš„é«˜å¹¶å‘è°ƒåº¦**
   - æ‘’å¼ƒä¼ ç»Ÿå¤šçº¿ç¨‹ï¼Œæ·±åº¦åº”ç”¨ Go åç¨‹ (`Goroutine`) ä¸é€šé“ (`Channel`)ã€‚
   - å®ç°æä½èµ„æºå¼€é”€ä¸‹çš„æµ·é‡æ¢é’ˆå®æ—¶è°ƒåº¦ä¸æ— é˜»å¡ I/O æ¢æµ‹ã€‚

2. **ğŸ›¡ï¸ æ™ºèƒ½å‘Šè­¦æŠ‘åˆ¶ç®—æ³• (çŠ¶æ€æœºæ¨¡å‹)**
   - **æ»‘åŠ¨çª—å£é˜²æŠ– (Debounce)**ï¼šæ”¯æŒé…ç½® `AlertThreshold`ï¼Œè¿ç»­å¤±è´¥ N æ¬¡æ‰ç¡®è®¤ä¸ºçœŸå®å®•æœºï¼Œå®Œç¾è¿‡æ»¤ç½‘ç»œç¬æ—¶æŠ–åŠ¨ã€‚
   - **é™é»˜å†·å´æœºåˆ¶ (Cooldown Silence)**ï¼šè§¦å‘å‘Šè­¦åè¿›å…¥ä¼‘çœ æœŸï¼Œå½»åº•å‘Šåˆ«â€œå‘Šè­¦é£æš´ (Alert Fatigue)â€ã€‚
   - **å…¨ç”Ÿå‘½å‘¨æœŸé—­ç¯**ï¼šæ‰“é€šâ€œå¼‚å¸¸å‘ç° -> é‚®ä»¶å‘Šè­¦ -> æ¢å¤æ„ŸçŸ¥ -> è‡ªåŠ¨æ¶ˆè­¦â€å®Œæ•´æµç¨‹ã€‚

3. **ğŸ”’ æ•æ„Ÿæ•°æ®ç¡¬ç¼–ç é˜²æŠ¤ (AES-256-GCM)**
   - æ‘’å¼ƒæ˜æ–‡å­˜å‚¨ï¼Œç³»ç»Ÿåœ¨æŒä¹…åŒ–é…ç½®å±‚å¼•å…¥ AES å¯¹ç§°åŠ å¯†ç®—æ³•ã€‚
   - å†…å­˜åŠ è½½æ—¶å³æ—¶è§£å¯†ï¼Œè½ç›˜ä¿å­˜æ—¶åŠ¨æ€åŠ å¯†ï¼Œæœç» `config.json` æ³„éœ²å¯¼è‡´çš„æ ¸å¿ƒæˆæƒç /å¯†ç è¢«ç›—é£é™©ã€‚

4. **ğŸ“¦ å¼€ç®±å³ç”¨çš„å•æ–‡ä»¶éƒ¨ç½² (go:embed)**
   - å‰ç«¯ Web é™æ€èµ„æº (HTML/CSS/JS) å…¨é¢é‡‡ç”¨ Go 1.16+ çš„ `//go:embed` é­”æ³•ã€‚
   - ç¼–è¯‘åä»…ç”Ÿæˆ**å•ä¸€å¯æ‰§è¡Œæ–‡ä»¶**ï¼Œæ— éœ€æºå¸¦ `templates` æ–‡ä»¶å¤¹ï¼Œå½»åº•æ¶ˆé™¤ç¯å¢ƒè·¯å¾„ä¾èµ–ã€‚

5. **ğŸ“± æå®¢èŒƒçš„å“åº”å¼å…¨æ ˆ Web æ§åˆ¶å°**
   - è‡ªåŠ¨é€‚é… PC ä¸ç§»åŠ¨ç«¯ (CSS Media Queries)ã€‚
   - æ”¯æŒ **Light/Dark è‡ªåŠ¨æ·±è‰²æ¨¡å¼**ã€è‡ªé€‚åº” ECharts æ•°æ®è¶‹åŠ¿å›¾ã€‚
   - æ”¯æŒ**ä»»åŠ¡æ ‡æ˜Ÿç½®é¡¶ (Star)** ä¸ ID æ™ºèƒ½æ’åºï¼Œå¼ºè¿«ç—‡ç¦éŸ³ã€‚
   - åå°è‡ªåŠ¨ç›‘æµ‹è‡ªèº«ç³»ç»ŸçŠ¶æ€ï¼ˆUptimeã€Goroutinesã€Memoryï¼‰ã€‚

## ğŸ“‚ å·¥ç¨‹ç›®å½•ç»“æ„ (Standard Go Layout)

æœ¬é¡¹ç›®ä¸¥æ ¼éµå¾ª Go è¯­è¨€æ ‡å‡†é¡¹ç›®ç›®å½•è§„èŒƒè¿›è¡Œåˆ†å±‚é‡æ„ï¼š

```text
go-monitor/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go           # ç¨‹åºçš„å”¯ä¸€å¯åŠ¨å…¥å£ (æŒ‡æŒ¥å®˜)
â”œâ”€â”€ internal/                 # å†…éƒ¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (ä¸å¯è¢«å¤–éƒ¨åŒ…å¯¼å…¥)
â”‚   â”œâ”€â”€ config/               # é…ç½®ç®¡ç†ä¸­å¿ƒ (åŒ…å« AES-256 åŠ è§£å¯†é€»è¾‘ä¸å‘å·å™¨)
â”‚   â”œâ”€â”€ model/                # å…¨å±€æ•°æ®æ¨¡å‹ (Structs / DB Models)
â”‚   â”œâ”€â”€ monitor/              # ç›‘æ§æ ¸å¿ƒå¼•æ“ (HTTP Client æ¢æµ‹ã€çŠ¶æ€æœºä¸é‚®ä»¶å‘é€)
â”‚   â”œâ”€â”€ repository/           # æ•°æ®ä»“å‚¨å±‚ (å°è£… GORM å¯¹ SQLite çš„æ“ä½œ)
â”‚   â””â”€â”€ web/                  # HTTP å±•ç°å±‚
â”‚       â”œâ”€â”€ handler.go        # è·¯ç”±åˆ†å‘ä¸ API æ¥å£
â”‚       â””â”€â”€ templates/        # å­˜æ”¾ index.html (è¢« go:embed æ‰“åŒ…åµŒå…¥)
â”œâ”€â”€ config.example.json       # é…ç½®æ¨¡æ¿ (è„±æ•)
â”œâ”€â”€ go.mod / go.sum           # ä¾èµ–ç®¡ç†
â””â”€â”€ README.md                 # é¡¹ç›®æ–‡æ¡£

```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

* **åº•å±‚è¯­è¨€**ï¼šGo (Golang)
* **æŒä¹…åŒ–æ–¹æ¡ˆ**ï¼šSQLite3 + GORM (Code-First è‡ªåŠ¨å»ºè¡¨)
* **å‰ç«¯å®ç°**ï¼šåŸç”Ÿ HTML5 + CSS3 (Variables é©±åŠ¨ä¸»é¢˜) + ECharts.js
* **é‚®ä»¶æœåŠ¡**ï¼šGo-Gomail (æ”¯æŒ SSL/TLS åè®®)
* **å®‰å…¨åŠ å¯†**ï¼š`crypto/aes` (AES-GCM-256)

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„è®¡ç®—æœºä¸Šå·²å®‰è£… Go (>=1.20) ç¯å¢ƒã€‚

### 2. è·å–ä»£ç ä¸ä¾èµ–

```bash
git clone [https://github.com/æ‚¨çš„ç”¨æˆ·å/go-monitor.git](https://github.com/æ‚¨çš„ç”¨æˆ·å/go-monitor.git)
cd go-monitor
go mod tidy

```

### 3. ç¼–è¯‘ä¸ºå•æ–‡ä»¶ (æ¨è)

```bash
go build -o HakimiMonitor.exe ./cmd/server

```

*ç¼–è¯‘å®Œæˆåï¼Œæ‚¨åªéœ€å°† `HakimiMonitor.exe` æ‹·è´åˆ°ä»»æ„æ— ç¯å¢ƒçš„æœºå™¨æˆ–æœåŠ¡å™¨ä¸Šï¼ŒåŒå‡»å³å¯è¿è¡Œï¼*

### 4. è®¿é—®ç®¡ç†é¢æ¿

ç¨‹åºå¯åŠ¨åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š[http://127.0.0.1:9090](http://127.0.0.1:9090)

## âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

ç³»ç»Ÿé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ç”Ÿæˆ `config.json` å’Œ `monitor.db` æ•°æ®åº“ã€‚
ä½ å¯ä»¥é€šè¿‡ Web åå°çš„ **â€œâš™ï¸ ç³»ç»Ÿè®¾ç½®â€** ç›´æ¥è¿›è¡Œå¯è§†åŒ–é…ç½®ã€‚è‹¥æ‰‹åŠ¨ä¿®æ”¹ JSONï¼Œæ ¸å¿ƒå‚æ•°å¦‚ä¸‹ï¼š

```json
{
  "interval": 5,             // ç›‘æ§æ¢æµ‹é¢‘ç‡ (ç§’)
  "alert_threshold": 3,      // é˜²æŠ–ï¼šè¿ç»­å¤±è´¥å‡ æ¬¡è§†ä¸ºå®•æœº
  "alert_cooldown": 60,      // é™é»˜ï¼šæŠ¥è­¦é‚®ä»¶å‘é€åçš„å†·å´æ—¶é—´ (åˆ†é’Ÿ)
  "next_task_id": 10,        // è‡ªå¢å‘å·å™¨ (ä¸¥ç¦æ‰‹åŠ¨è°ƒå°ï¼Œé˜²æ­¢å†å²æ•°æ®ä¸²ä½)
  "smtp": {
    "enabled": true,         // æ˜¯å¦å¼€å¯å‘Šè­¦
    "host": "smtp.qq.com",
    "port": 465,             // SSL ç«¯å£
    "username": "your_email@qq.com",
    "password": "åŠ å¯†åçš„å¯†æ–‡(åå°å¡«å…¥æ˜æ–‡ä¿å­˜åä¼šè‡ªåŠ¨åŠ å¯†)", 
    "to": "receive_email@qq.com"
  }
}

```

## ğŸ“¸ è¿è¡Œæˆªå›¾
Console:
<img width="917" height="418" alt="{CEE72352-EBF9-4C85-8E5D-C592B214A91B}" src="https://github.com/user-attachments/assets/917dc9d3-d521-42f4-8a67-33721c274a71" />

ECharts:
<img width="741" height="367" alt="{1BF49748-5DB9-4023-8D96-FD7AD14CA060}" src="https://github.com/user-attachments/assets/8ff18f9d-ae03-4995-a794-24d9b95c3d9d" />

Setting:
<img width="801" height="508" alt="{4BF1101B-704D-44F8-BCFF-36A9318E84E0}" src="https://github.com/user-attachments/assets/8758dd3e-ac80-4dab-9e35-8d7686acc4b4" />



---

**Author**: [ä½ çš„åå­—]

**Date**: 2026-02

**Version**: V15.1 (Graduation Project Final Release)

 

